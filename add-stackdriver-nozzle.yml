---
- type: replace
  path: /releases/-
  value:
    name: stackdriver-tools
    version: latest

- type: replace
  path: /instance_groups/-
  value:
    name: stackdriver-nozzle
    azs:
    - z1
    - z2
    instances: 2
    vm_type: m3.medium
    stemcell: default
    networks:
    - name: default
    jobs:
    - name: stackdriver-nozzle
      release: stackdriver-tools
    - name: google-fluentd
      release: stackdriver-tools
    - name: stackdriver-agent
      release: stackdriver-tools
    properties:
      firehose:
        endpoint: ((firehose_endpoint))
        username: ((firehose_username))
        password: ((firehose_password))
        skip_ssl: false
        events: ((firehose_events))
      gcp:
        project_id: ((gcp_project_id))
      credentials:
        application_default_credentials: ((gcp_credentials_json))

- type: replace
  path: /instance_groups/name=api/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=api/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=blobstore/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=blobstore/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=cc-bridge/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=cc-bridge/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=cc-clock/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=cc-clock/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=cc-worker/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=cc-worker/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=consul/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=consul/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=diego-api/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=diego-api/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=diego-brain/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=diego-brain/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=diego-cell/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=diego-cell/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=doppler/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=doppler/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=etcd/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=etcd/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=log-api/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=log-api/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=mysql/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=mysql/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=nats/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=nats/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=router/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=router/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=uaa/jobs/-
  value:
    name: google-fluentd
    release: stackdriver-tools

- type: replace
  path: /instance_groups/name=uaa/jobs/-
  value:
    name: stackdriver-agent
    release: stackdriver-tools
